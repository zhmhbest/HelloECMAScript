{"version":3,"sources":["webpack://zhmh/./src/index.js","webpack://zhmh/./src/lib/ajax.js","webpack://zhmh/./src/lib/cookie.js","webpack://zhmh/./src/lib/file.js","webpack://zhmh/./src/lib/form.js","webpack://zhmh/./src/lib/hash.js","webpack://zhmh/./src/lib/screen.js","webpack://zhmh/webpack/bootstrap","webpack://zhmh/webpack/startup"],"names":["module","exports","hash","require","screen","cookie","ajax","file","form","requestBase","method","url","body","preProcess","callback","request","window","XMLHttpRequest","ActiveXObject","onreadystatechange","open","undefined","send","requestCommon","header","Promise","resolve","reject","req","Object","keys","key","setRequestHeader","res","DONE","readyState","status","response","Error","statusText","requestGet","data","toGetString","requestPost","FormData","append","Requester","prefixUrl","defaultData","defaultHeader","prefix","get","post","getExpireTime","expire","Date","date","setTime","getTime","setCookie","name","value","path","buffer","push","trim","encodeURIComponent","JSON","stringify","toUTCString","document","join","delCookie","cacheCookies","loadCookies","cookies","split","item","p","indexOf","substr","val","decodeURIComponent","getCookie","parse","reload","set","del","fileLoader","input","createElement","setAttribute","addEventListener","files","cb","click","createBlobURL","obj","URL","createObjectURL","readFileText","f","reader","FileReader","readAsText","onload","result","readFileBase64","readAsDataURL","readFileBinary","readAsBinaryString","loader","formSeries","objForm","tagName","toUpperCase","elements","buff","i","length","field","type","checked","formSetValues","querySelectorAll","some","x","series","values","sep","eqs","toString","parseGetString","str","items","kv","pushOnHashChange","fn","onhashchange","ev","location","preChangeEvent","pushOnScreenResize","onresize","documentElement","clientWidth","clientHeight"],"mappings":"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","file":"index.js","sourcesContent":["// <script src=\"https://zhmhbest.github.io/HelloECMAScript/webjs/dist/index.js\"></script>\r\n\r\nmodule.exports = {\r\n    hash: require(\"./lib/hash\"),\r\n    screen: require(\"./lib/screen\"),\r\n    cookie: require(\"./lib/cookie\"),\r\n    ajax: require(\"./lib/ajax\"),\r\n    file: require(\"./lib/file\"),\r\n    form: require(\"./lib/form\")\r\n};","const hash = require(\"./hash\");\r\n// console.log(0, XMLHttpRequest.UNSENT);\r\n// console.log(1, XMLHttpRequest.OPENED);\r\n// console.log(2, XMLHttpRequest.HEADERS_RECEIVED);\r\n// console.log(3, XMLHttpRequest.LOADING);\r\n// console.log(4, XMLHttpRequest.DONE);\r\n/**\r\n * request\r\n * @param {String} method\r\n * @param {String} url\r\n * @param {BodyInit} body\r\n * @param {function(XMLHttpRequest)} preProcess\r\n * @param {function(XMLHttpRequest, XMLHttpRequest)} callback\r\n * @returns {void}\r\n */\r\nconst requestBase = (method, url, body, preProcess, callback) => {\r\n    const request = window.XMLHttpRequest ? new XMLHttpRequest() : ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    request.onreadystatechange = function () { callback(request, this) };\r\n    request.open(method, url);\r\n    if (undefined!==preProcess) preProcess(request);\r\n    request.send(body);\r\n};\r\n\r\n\r\n/**\r\n * request\r\n * @param {String} method = GET | POST\r\n * @param {String} url\r\n * @param {Object|null} body\r\n * @param {Object|undefined} header\r\n * @returns {Promise}\r\n */\r\nconst requestCommon = (method, url, body, header) => {\r\n    return new Promise(function (resolve, reject) {\r\n        // <Promise>\r\n        requestBase(method, url, body, req => {\r\n            if (undefined===header) return;\r\n            for (let key of Object.keys(header))\r\n                req.setRequestHeader(key, header[key]);\r\n        }, (req, res) => {\r\n            if (XMLHttpRequest.DONE === req.readyState) {\r\n                if (req.status >= 200 && req.status < 300 || 304 === req.status /* ReadCache */ ) {\r\n                    resolve(res.response);\r\n                } else {\r\n                    reject(new Error(res.statusText));\r\n                }\r\n            }\r\n        });\r\n        // </Promise>\r\n    });\r\n};\r\n\r\n\r\n/**\r\n * Get\r\n * @param {String} url\r\n * @param {Object} [data]\r\n * @param {Object} [header]\r\n * @returns {Promise<unknown>}\r\n */\r\nconst requestGet = (url, data, header) => {\r\n    if (undefined!==data && null!==data) {\r\n        url = url + \"?\" + hash.toGetString(data);\r\n    }\r\n    return requestCommon(\"GET\", url, null, header);\r\n};\r\n\r\n\r\n/**\r\n * Post\r\n * @param {String} url\r\n * @param {Object|FormData} [data]\r\n * @param {Object} [header]\r\n * @returns {Promise<unknown>}\r\n */\r\nconst requestPost = (url, data, header) => {\r\n    let form = null;\r\n    if (undefined!==data && null!==data) {\r\n        if (data instanceof FormData) {\r\n            form = data;\r\n        } else {\r\n            form = new FormData();\r\n            for (let key of Object.keys(data)) form.append(key, data[key]);\r\n        }\r\n    }\r\n    return requestCommon(\"POST\", url, form, header);\r\n};\r\n\r\nclass Requester {\r\n    /**\r\n     *\r\n     * @param {String} [prefixUrl]\r\n     * @param {Object} [defaultData]\r\n     * @param {Object} [defaultHeader]\r\n     */\r\n    constructor(prefixUrl, defaultData, defaultHeader) {\r\n        this.prefix = (undefined===prefixUrl || null===prefixUrl) ? \"\" : prefixUrl;\r\n        this.data = (undefined===defaultData || null===defaultData) ? {} : defaultData;\r\n        this.header = (undefined===defaultHeader || null===defaultHeader) ? {} : defaultHeader;\r\n    }\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @param {Object} [data]\r\n     * @param {Object} [header]\r\n     * @returns {Promise<unknown>}\r\n     */\r\n    post(url, data, header) {\r\n        data = data || {};\r\n        header = header || {};\r\n        return requestPost(this.prefix + url, {...this.data, ...data}, {...this.header, ...header});\r\n    }\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @param {Object} [data]\r\n     * @param {Object} [header]\r\n     * @returns {Promise<unknown>}\r\n     */\r\n    get(url, data, header) {\r\n        data = data || {};\r\n        header = header || {};\r\n        return requestGet(this.prefix + url, {...this.data, ...data}, {...this.header, ...header});\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    get: requestGet,\r\n    post: requestPost,\r\n    Requester\r\n};","\r\n/**\r\n * 获取到期时间\r\n * @param {Date|String|Number} [expire]\r\n */\r\nfunction getExpireTime(expire) {\r\n    // Date: 传入值——到期时间（Date）\r\n    if (expire instanceof Date) {\r\n        return expire;\r\n    }\r\n    // String: 传入值——到期时间（String）\r\n    if ('string' === typeof expire) {\r\n        return new Date(expire);\r\n    }\r\n    // Number: 传入值——有效时间（秒）\r\n    if ('number' === typeof expire) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (expire * 1000));\r\n        return date;\r\n    }\r\n    // Undefined\r\n    return undefined;\r\n}\r\n\r\n\r\n/**\r\n * 设置Cookie\r\n * @param {String} name\r\n * @param {String|Number|Object} value\r\n * @param {Date|String|Number} [expire]\r\n * @param [path]\r\n */\r\nfunction setCookie(name, value, expire, path) {\r\n    expire = getExpireTime(expire);\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    if (value instanceof Object) {\r\n        buffer.push(encodeURIComponent(JSON.stringify(value)));\r\n    } else {\r\n        buffer.push(encodeURIComponent(value));\r\n    }\r\n    // expire\r\n    if (undefined !== expire) {\r\n        buffer.push(';expires=');\r\n        buffer.push(expire.toUTCString());\r\n    }\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\n/**\r\n * 删除Cookie\r\n * @param name\r\n * @param [path]\r\n */\r\nfunction delCookie(name, path) {\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    // expires\r\n    buffer.push(';expires=');\r\n    buffer.push(new Date().toUTCString());\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\nlet cacheCookies = undefined;\r\n/**\r\n * 加载Cookie\r\n */\r\nfunction loadCookies() {\r\n    cacheCookies = Object();\r\n    let cookies = document.cookie.split(';');\r\n    for (let item of cookies) {\r\n        item = item.trim();\r\n        let p = item.indexOf('=');\r\n        let key = item.substr(0, p).trim();\r\n        let val = item.substr(p + 1).trim();\r\n        cacheCookies[key] = decodeURIComponent(val);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 获得Cookie\r\n * @param name\r\n * @param [parse] JSON解析\r\n * @param [reload] 刷新缓存\r\n */\r\nfunction getCookie(name, parse, reload) {\r\n    if (undefined === cacheCookies || true === reload) loadCookies();\r\n    if (true===parse) {\r\n        return JSON.parse(cacheCookies[name]);\r\n    } else {\r\n        return cacheCookies[name];\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    get: getCookie,\r\n    set: setCookie,\r\n    del: delCookie\r\n};","\r\nconst fileLoader = (() => {\r\n    /** @type {function(FileList)} */\r\n    let callback = null;\r\n    const input = document.createElement('input');\r\n    input.setAttribute('type', 'file');\r\n    input.addEventListener('change', () => {\r\n        if (undefined!==callback) callback(input.files);\r\n    });\r\n    return (cb) => {\r\n        if (undefined!==cb) callback = cb;\r\n        input.value = null; // 解决选择相同文件问题\r\n        input.click();\r\n    }\r\n})();\r\n\r\n\r\n/**\r\n * @param {Blob} obj\r\n * @returns {String}\r\n */\r\nconst createBlobURL = (obj) => {\r\n    return window.URL.createObjectURL(obj)\r\n};\r\n\r\n\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileText = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileBase64 = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(ArrayBuffer)} callback\r\n */\r\nconst readFileBinary = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsBinaryString(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    loader: fileLoader,\r\n    createBlobURL,\r\n    readFileText,\r\n    readFileBase64,\r\n    readFileBinary\r\n};","/**\r\n *\r\n * @param objForm\r\n * @returns {{}|null}\r\n */\r\nconst formSeries = (objForm) => {\r\n    if ('FORM' !== objForm.tagName.toUpperCase()) return null;\r\n    const elements = objForm.elements;\r\n    let buff = {};\r\n    for (let i = 0; i < elements.length; i++) {\r\n        const field = elements[i];\r\n        switch (field.type) {\r\n            case 'radio':\r\n                if (!field.checked) break;\r\n                buff[field.name] = field.value;\r\n                break;\r\n            case 'checkbox':\r\n                if (undefined===buff[field.name]) buff[field.name]=[];\r\n                if (field.checked) buff[field.name].push(field.value);\r\n                break;\r\n            case 'select-one':\r\n            case 'text':\r\n            case 'textarea':\r\n            case 'number':\r\n            case 'email':\r\n            case 'date':\r\n                buff[field.name] = field.value;\r\n                break;\r\n        }\r\n    }\r\n    return buff;\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param objForm\r\n * @param {Object} data\r\n */\r\nconst formSetValues = (objForm, data) => {\r\n    // const assemblies = objForm.querySelectorAll(`input,select,textarea`);\r\n    for (let name of Object.keys(data)) {\r\n        const value = data[name];\r\n        const elements = objForm.querySelectorAll(`input[name='${name}'],select[name='${name}'],textarea[name='${name}']`);\r\n        if (0===elements.length) continue;\r\n        // console.log(\"elements\", name, elements[0].type, elements);\r\n        switch (elements[0].type) {\r\n            case 'radio':\r\n                for (let item of elements) {\r\n                    item.checked = (value == item.value);\r\n                } break;\r\n            case 'checkbox':\r\n                for (let item of elements) {\r\n                    item.checked = value.some(x => x==item.value);\r\n                } break;\r\n            default:\r\n                elements[0].value = value;\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    series: formSeries,\r\n    values: formSetValues\r\n};","/**\r\n * Object->String\r\n * @param {Object} obj\r\n * @param {String} [sep]\r\n * @param {String} [eqs]\r\n * @returns {string}\r\n */\r\nfunction toGetString(obj, sep, eqs) {\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    let buffer = [];\r\n    for (let key of Object.keys(obj)) {\r\n        buffer.push([\r\n            key.toString(),\r\n            encodeURIComponent(obj[key].toString())\r\n        ].join(eqs));\r\n    }\r\n    return buffer.join(sep);\r\n}\r\n\r\n/**\r\n * String->Dict\r\n * @param {String} str\r\n * @param {String} [sep]\r\n * @param {String} [eqs]\r\n * @returns {Object}\r\n */\r\nfunction parseGetString(str, sep, eqs) {\r\n    let buffer = Object();\r\n    str = str.trim();\r\n    if (0 === str.length) return buffer;\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    let items = str.split(sep);\r\n    for (let item of items) {\r\n        let kv = item.split(eqs);\r\n        buffer[kv[0]] = decodeURIComponent(kv[1]);\r\n    }\r\n    return buffer;\r\n}\r\n\r\n/**\r\n * Hash改变捕获\r\n * @param {function(HashChangeEvent, String)} fn\r\n */\r\nfunction pushOnHashChange(fn) {\r\n    if (undefined === window.onhashchange || null === window.onhashchange) {\r\n        window.onhashchange = function (ev) {\r\n            fn(ev, window.location.hash.substr(1));\r\n        }\r\n    } else {\r\n        let preChangeEvent = window.onhashchange;\r\n        window.onhashchange = function (ev) {\r\n            preChangeEvent(ev);\r\n            fn(ev, window.location.hash.substr(1));\r\n        };\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    toGetString,\r\n    parseGetString,\r\n    pushOnHashChange\r\n};","\r\n/**\r\n * 添加尺寸调整响应\r\n * @param {function(UIEvent, Number, Number)} fn\r\n */\r\npushOnScreenResize = function (fn) {\r\n    if (undefined === window.onresize || null === window.onresize) {\r\n        window.onresize = function (ev) {\r\n            fn(ev, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n        };\r\n    } else {\r\n        let preChangeEvent = window.onresize;\r\n        window.onresize = function (ev) {\r\n            preChangeEvent(ev);\r\n            fn(ev, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n        };\r\n    }\r\n    // Active\r\n    fn(null, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n};\r\n\r\nmodule.exports = {\r\n    pushOnScreenResize\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(579);\n"],"sourceRoot":""}
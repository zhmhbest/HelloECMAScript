{"version":3,"sources":["webpack://zhmh/./src/index.js","webpack://zhmh/./src/lib/ajax.js","webpack://zhmh/./src/lib/cookie.js","webpack://zhmh/./src/lib/file.js","webpack://zhmh/./src/lib/form.js","webpack://zhmh/./src/lib/hash.js","webpack://zhmh/./src/lib/screen.js","webpack://zhmh/webpack/bootstrap","webpack://zhmh/webpack/startup"],"names":["module","exports","hash","require","screen","cookie","ajax","file","form","requestCommon","method","url","body","header","Promise","resolve","reject","preProcess","callback","request","window","XMLHttpRequest","ActiveXObject","onreadystatechange","req","res","this","DONE","readyState","status","response","Error","statusText","open","undefined","send","requestBase","Object","keys","key","setRequestHeader","requestGet","data","toGetString","requestPost","FormData","append","Requester","prefixUrl","defaultData","defaultHeader","prefix","get","post","cacheCookies","name","parse","reload","document","split","item","p","trim","indexOf","substr","val","decodeURIComponent","loadCookies","JSON","set","value","expire","path","Date","date","setTime","getTime","getExpireTime","buffer","push","encodeURIComponent","stringify","toUTCString","join","del","input","fileLoader","createElement","setAttribute","addEventListener","files","cb","click","loader","createBlobURL","obj","URL","createObjectURL","readFileText","f","reader","FileReader","readAsText","onload","result","readFileBase64","readAsDataURL","readFileBinary","readAsBinaryString","series","objForm","tagName","toUpperCase","elements","buff","i","length","field","type","checked","values","querySelectorAll","some","x","sep","eqs","toString","parseGetString","str","kv","pushOnHashChange","fn","onhashchange","ev","location","preChangeEvent","pushOnScreenResize","onresize","documentElement","clientWidth","clientHeight","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__"],"mappings":"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","file":"index.min.js","sourcesContent":["// <script src=\"https://zhmhbest.github.io/HelloECMAScript/webjs/dist/index.js\"></script>\r\n\r\nmodule.exports = {\r\n    hash: require(\"./lib/hash\"),\r\n    screen: require(\"./lib/screen\"),\r\n    cookie: require(\"./lib/cookie\"),\r\n    ajax: require(\"./lib/ajax\"),\r\n    file: require(\"./lib/file\"),\r\n    form: require(\"./lib/form\")\r\n};","const hash = require(\"./hash\");\r\n// console.log(0, XMLHttpRequest.UNSENT);\r\n// console.log(1, XMLHttpRequest.OPENED);\r\n// console.log(2, XMLHttpRequest.HEADERS_RECEIVED);\r\n// console.log(3, XMLHttpRequest.LOADING);\r\n// console.log(4, XMLHttpRequest.DONE);\r\n/**\r\n * request\r\n * @param {String} method\r\n * @param {String} url\r\n * @param {BodyInit} body\r\n * @param {function(XMLHttpRequest)} preProcess\r\n * @param {function(XMLHttpRequest, XMLHttpRequest)} callback\r\n * @returns {void}\r\n */\r\nconst requestBase = (method, url, body, preProcess, callback) => {\r\n    const request = window.XMLHttpRequest ? new XMLHttpRequest() : ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    request.onreadystatechange = function () { callback(request, this) };\r\n    request.open(method, url);\r\n    if (undefined!==preProcess) preProcess(request);\r\n    request.send(body);\r\n};\r\n\r\n\r\n/**\r\n * request\r\n * @param {String} method = GET | POST\r\n * @param {String} url\r\n * @param {Object|null} body\r\n * @param {Object|undefined} header\r\n * @returns {Promise}\r\n */\r\nconst requestCommon = (method, url, body, header) => {\r\n    return new Promise(function (resolve, reject) {\r\n        // <Promise>\r\n        requestBase(method, url, body, req => {\r\n            if (undefined===header) return;\r\n            for (let key of Object.keys(header))\r\n                req.setRequestHeader(key, header[key]);\r\n        }, (req, res) => {\r\n            if (XMLHttpRequest.DONE === req.readyState) {\r\n                if (req.status >= 200 && req.status < 300 || 304 === req.status /* ReadCache */ ) {\r\n                    resolve(res.response);\r\n                } else {\r\n                    reject(new Error(res.statusText));\r\n                }\r\n            }\r\n        });\r\n        // </Promise>\r\n    });\r\n};\r\n\r\n\r\n/**\r\n * Get\r\n * @param {String} url\r\n * @param {Object} [data]\r\n * @param {Object} [header]\r\n * @returns {Promise<unknown>}\r\n */\r\nconst requestGet = (url, data, header) => {\r\n    if (undefined!==data && null!==data) {\r\n        url = url + \"?\" + hash.toGetString(data);\r\n    }\r\n    return requestCommon(\"GET\", url, null, header);\r\n};\r\n\r\n\r\n/**\r\n * Post\r\n * @param {String} url\r\n * @param {Object|FormData} [data]\r\n * @param {Object} [header]\r\n * @returns {Promise<unknown>}\r\n */\r\nconst requestPost = (url, data, header) => {\r\n    let form = null;\r\n    if (undefined!==data && null!==data) {\r\n        if (data instanceof FormData) {\r\n            form = data;\r\n        } else {\r\n            form = new FormData();\r\n            for (let key of Object.keys(data)) form.append(key, data[key]);\r\n        }\r\n    }\r\n    return requestCommon(\"POST\", url, form, header);\r\n};\r\n\r\nclass Requester {\r\n    /**\r\n     *\r\n     * @param {String} [prefixUrl]\r\n     * @param {Object} [defaultData]\r\n     * @param {Object} [defaultHeader]\r\n     */\r\n    constructor(prefixUrl, defaultData, defaultHeader) {\r\n        this.prefix = (undefined===prefixUrl || null===prefixUrl) ? \"\" : prefixUrl;\r\n        this.data = (undefined===defaultData || null===defaultData) ? {} : defaultData;\r\n        this.header = (undefined===defaultHeader || null===defaultHeader) ? {} : defaultHeader;\r\n    }\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @param {Object} [data]\r\n     * @param {Object} [header]\r\n     * @returns {Promise<unknown>}\r\n     */\r\n    post(url, data, header) {\r\n        data = data || {};\r\n        header = header || {};\r\n        return requestPost(this.prefix + url, {...this.data, ...data}, {...this.header, ...header});\r\n    }\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @param {Object} [data]\r\n     * @param {Object} [header]\r\n     * @returns {Promise<unknown>}\r\n     */\r\n    get(url, data, header) {\r\n        data = data || {};\r\n        header = header || {};\r\n        return requestGet(this.prefix + url, {...this.data, ...data}, {...this.header, ...header});\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    get: requestGet,\r\n    post: requestPost,\r\n    Requester\r\n};","\r\n/**\r\n * 获取到期时间\r\n * @param {Date|String|Number} [expire]\r\n */\r\nfunction getExpireTime(expire) {\r\n    // Date: 传入值——到期时间（Date）\r\n    if (expire instanceof Date) {\r\n        return expire;\r\n    }\r\n    // String: 传入值——到期时间（String）\r\n    if ('string' === typeof expire) {\r\n        return new Date(expire);\r\n    }\r\n    // Number: 传入值——有效时间（秒）\r\n    if ('number' === typeof expire) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (expire * 1000));\r\n        return date;\r\n    }\r\n    // Undefined\r\n    return undefined;\r\n}\r\n\r\n\r\n/**\r\n * 设置Cookie\r\n * @param {String} name\r\n * @param {String|Number|Object} value\r\n * @param {Date|String|Number} [expire]\r\n * @param [path]\r\n */\r\nfunction setCookie(name, value, expire, path) {\r\n    expire = getExpireTime(expire);\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    if (value instanceof Object) {\r\n        buffer.push(encodeURIComponent(JSON.stringify(value)));\r\n    } else {\r\n        buffer.push(encodeURIComponent(value));\r\n    }\r\n    // expire\r\n    if (undefined !== expire) {\r\n        buffer.push(';expires=');\r\n        buffer.push(expire.toUTCString());\r\n    }\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\n/**\r\n * 删除Cookie\r\n * @param name\r\n * @param [path]\r\n */\r\nfunction delCookie(name, path) {\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    // expires\r\n    buffer.push(';expires=');\r\n    buffer.push(new Date().toUTCString());\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\nlet cacheCookies = undefined;\r\n/**\r\n * 加载Cookie\r\n */\r\nfunction loadCookies() {\r\n    cacheCookies = Object();\r\n    let cookies = document.cookie.split(';');\r\n    for (let item of cookies) {\r\n        item = item.trim();\r\n        let p = item.indexOf('=');\r\n        let key = item.substr(0, p).trim();\r\n        let val = item.substr(p + 1).trim();\r\n        cacheCookies[key] = decodeURIComponent(val);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 获得Cookie\r\n * @param name\r\n * @param [parse] JSON解析\r\n * @param [reload] 刷新缓存\r\n */\r\nfunction getCookie(name, parse, reload) {\r\n    if (undefined === cacheCookies || true === reload) loadCookies();\r\n    if (true===parse) {\r\n        return JSON.parse(cacheCookies[name]);\r\n    } else {\r\n        return cacheCookies[name];\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    get: getCookie,\r\n    set: setCookie,\r\n    del: delCookie\r\n};","\r\nconst fileLoader = (() => {\r\n    /** @type {function(FileList)} */\r\n    let callback = null;\r\n    const input = document.createElement('input');\r\n    input.setAttribute('type', 'file');\r\n    input.addEventListener('change', () => {\r\n        if (undefined!==callback) callback(input.files);\r\n    });\r\n    return (cb) => {\r\n        if (undefined!==cb) callback = cb;\r\n        input.value = null; // 解决选择相同文件问题\r\n        input.click();\r\n    }\r\n})();\r\n\r\n\r\n/**\r\n * @param {Blob} obj\r\n * @returns {String}\r\n */\r\nconst createBlobURL = (obj) => {\r\n    return window.URL.createObjectURL(obj)\r\n};\r\n\r\n\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileText = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileBase64 = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(ArrayBuffer)} callback\r\n */\r\nconst readFileBinary = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsBinaryString(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    loader: fileLoader,\r\n    createBlobURL,\r\n    readFileText,\r\n    readFileBase64,\r\n    readFileBinary\r\n};","/**\r\n *\r\n * @param objForm\r\n * @returns {{}|null}\r\n */\r\nconst formSeries = (objForm) => {\r\n    if ('FORM' !== objForm.tagName.toUpperCase()) return null;\r\n    const elements = objForm.elements;\r\n    let buff = {};\r\n    for (let i = 0; i < elements.length; i++) {\r\n        const field = elements[i];\r\n        switch (field.type) {\r\n            case 'radio':\r\n                if (!field.checked) break;\r\n                buff[field.name] = field.value;\r\n                break;\r\n            case 'checkbox':\r\n                if (undefined===buff[field.name]) buff[field.name]=[];\r\n                if (field.checked) buff[field.name].push(field.value);\r\n                break;\r\n            case 'select-one':\r\n            case 'text':\r\n            case 'textarea':\r\n            case 'number':\r\n            case 'email':\r\n            case 'date':\r\n                buff[field.name] = field.value;\r\n                break;\r\n        }\r\n    }\r\n    return buff;\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param objForm\r\n * @param {Object} data\r\n */\r\nconst formSetValues = (objForm, data) => {\r\n    // const assemblies = objForm.querySelectorAll(`input,select,textarea`);\r\n    for (let name of Object.keys(data)) {\r\n        const value = data[name];\r\n        const elements = objForm.querySelectorAll(`input[name='${name}'],select[name='${name}'],textarea[name='${name}']`);\r\n        if (0===elements.length) continue;\r\n        // console.log(\"elements\", name, elements[0].type, elements);\r\n        switch (elements[0].type) {\r\n            case 'radio':\r\n                for (let item of elements) {\r\n                    item.checked = (value == item.value);\r\n                } break;\r\n            case 'checkbox':\r\n                for (let item of elements) {\r\n                    item.checked = value.some(x => x==item.value);\r\n                } break;\r\n            default:\r\n                elements[0].value = value;\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    series: formSeries,\r\n    values: formSetValues\r\n};","/**\r\n * Object->String\r\n * @param {Object} obj\r\n * @param {String} [sep]\r\n * @param {String} [eqs]\r\n * @returns {string}\r\n */\r\nfunction toGetString(obj, sep, eqs) {\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    let buffer = [];\r\n    for (let key of Object.keys(obj)) {\r\n        buffer.push([\r\n            key.toString(),\r\n            encodeURIComponent(obj[key].toString())\r\n        ].join(eqs));\r\n    }\r\n    return buffer.join(sep);\r\n}\r\n\r\n/**\r\n * String->Dict\r\n * @param {String} str\r\n * @param {String} [sep]\r\n * @param {String} [eqs]\r\n * @returns {Object}\r\n */\r\nfunction parseGetString(str, sep, eqs) {\r\n    let buffer = Object();\r\n    str = str.trim();\r\n    if (0 === str.length) return buffer;\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    let items = str.split(sep);\r\n    for (let item of items) {\r\n        let kv = item.split(eqs);\r\n        buffer[kv[0]] = decodeURIComponent(kv[1]);\r\n    }\r\n    return buffer;\r\n}\r\n\r\n/**\r\n * Hash改变捕获\r\n * @param {function(HashChangeEvent, String)} fn\r\n */\r\nfunction pushOnHashChange(fn) {\r\n    if (undefined === window.onhashchange || null === window.onhashchange) {\r\n        window.onhashchange = function (ev) {\r\n            fn(ev, window.location.hash.substr(1));\r\n        }\r\n    } else {\r\n        let preChangeEvent = window.onhashchange;\r\n        window.onhashchange = function (ev) {\r\n            preChangeEvent(ev);\r\n            fn(ev, window.location.hash.substr(1));\r\n        };\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    toGetString,\r\n    parseGetString,\r\n    pushOnHashChange\r\n};","\r\n/**\r\n * 添加尺寸调整响应\r\n * @param {function(UIEvent, Number, Number)} fn\r\n */\r\npushOnScreenResize = function (fn) {\r\n    if (undefined === window.onresize || null === window.onresize) {\r\n        window.onresize = function (ev) {\r\n            fn(ev, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n        };\r\n    } else {\r\n        let preChangeEvent = window.onresize;\r\n        window.onresize = function (ev) {\r\n            preChangeEvent(ev);\r\n            fn(ev, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n        };\r\n    }\r\n    // Active\r\n    fn(null, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n};\r\n\r\nmodule.exports = {\r\n    pushOnScreenResize\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(579);\n"],"sourceRoot":""}
{"version":3,"sources":["webpack://zhmh/webpack/bootstrap","webpack://zhmh/./src/lib/hash.js","webpack://zhmh/./src/index.js","webpack://zhmh/./src/lib/screen.js","webpack://zhmh/./src/lib/cookie.js","webpack://zhmh/./src/lib/ajax.js","webpack://zhmh/./src/lib/file.js","webpack://zhmh/./src/lib/form.js","webpack://zhmh/./src/lib/date.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","toGetString","obj","sep","eqs","buffer","keys","push","toString","encodeURIComponent","join","parseGetString","str","trim","length","split","kv","decodeURIComponent","pushOnHashChange","fn","undefined","window","onhashchange","ev","location","hash","substr","preChangeEvent","require","screen","cookie","ajax","file","form","date","pushOnScreenResize","onresize","document","documentElement","clientWidth","clientHeight","cacheCookies","parse","reload","item","indexOf","val","loadCookies","JSON","set","expire","path","Date","setTime","getTime","getExpireTime","stringify","toUTCString","del","requestCommon","method","url","body","header","Promise","resolve","reject","preProcess","callback","request","XMLHttpRequest","ActiveXObject","onreadystatechange","this","open","send","requestBase","req","setRequestHeader","res","DONE","readyState","status","response","Error","statusText","requestGet","data","requestPost","FormData","append","Requester","prefixUrl","defaultData","defaultHeader","prefix","post","input","URL","webkitURL","fileLoader","createElement","setAttribute","addEventListener","files","cb","click","fileDownloadBlob","blob","filename","element","createObjectURL","remove","loader","download","downloadText","text","Blob","createBlobURL","readFileText","f","reader","FileReader","readAsText","onload","result","readFileBase64","readAsDataURL","readFileBinary","readAsBinaryString","series","objForm","tagName","toUpperCase","elements","buff","field","type","checked","values","querySelectorAll","some","x","format","toFormat","formatType","buf","ch","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","timestamp"],"mappings":"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","file":"index.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\r\n * Object->String\r\n * @param {Object} obj\r\n * @param {String} [sep]\r\n * @param {String} [eqs]\r\n * @returns {string}\r\n */\r\nfunction toGetString(obj, sep, eqs) {\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    let buffer = [];\r\n    for (let key of Object.keys(obj)) {\r\n        buffer.push([\r\n            key.toString(),\r\n            encodeURIComponent(obj[key].toString())\r\n        ].join(eqs));\r\n    }\r\n    return buffer.join(sep);\r\n}\r\n\r\n/**\r\n * String->Dict\r\n * @param {String} str\r\n * @param {String} [sep]\r\n * @param {String} [eqs]\r\n * @returns {Object}\r\n */\r\nfunction parseGetString(str, sep, eqs) {\r\n    let buffer = Object();\r\n    str = str.trim();\r\n    if (0 === str.length) return buffer;\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    let items = str.split(sep);\r\n    for (let item of items) {\r\n        let kv = item.split(eqs);\r\n        buffer[kv[0]] = decodeURIComponent(kv[1]);\r\n    }\r\n    return buffer;\r\n}\r\n\r\n/**\r\n * Hash改变捕获\r\n * @param {function(HashChangeEvent, String)} fn\r\n */\r\nfunction pushOnHashChange(fn) {\r\n    if (undefined === window.onhashchange || null === window.onhashchange) {\r\n        window.onhashchange = function (ev) {\r\n            fn(ev, window.location.hash.substr(1));\r\n        }\r\n    } else {\r\n        let preChangeEvent = window.onhashchange;\r\n        window.onhashchange = function (ev) {\r\n            preChangeEvent(ev);\r\n            fn(ev, window.location.hash.substr(1));\r\n        };\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    toGetString,\r\n    parseGetString,\r\n    pushOnHashChange\r\n};","// require(\"@babel/polyfill\");  // 解决Promise\r\n\r\nmodule.exports = {\r\n    hash: require(\"./lib/hash\"),\r\n    screen: require(\"./lib/screen\"),\r\n    cookie: require(\"./lib/cookie\"),\r\n    ajax: require(\"./lib/ajax\"),\r\n    file: require(\"./lib/file\"),\r\n    form: require(\"./lib/form\"),\r\n    date: require(\"./lib/date\")\r\n};","\r\n/**\r\n * 添加尺寸调整响应\r\n * @param {function(UIEvent, Number, Number)} fn\r\n */\r\npushOnScreenResize = function (fn) {\r\n    if (undefined === window.onresize || null === window.onresize) {\r\n        window.onresize = function (ev) {\r\n            fn(ev, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n        };\r\n    } else {\r\n        let preChangeEvent = window.onresize;\r\n        window.onresize = function (ev) {\r\n            preChangeEvent(ev);\r\n            fn(ev, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n        };\r\n    }\r\n    // Active\r\n    fn(null, document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n};\r\n\r\nmodule.exports = {\r\n    pushOnScreenResize\r\n};","\r\n/**\r\n * 获取到期时间\r\n * @param {Date|String|Number} [expire]\r\n */\r\nfunction getExpireTime(expire) {\r\n    // Date: 传入值——到期时间（Date）\r\n    if (expire instanceof Date) {\r\n        return expire;\r\n    }\r\n    // String: 传入值——到期时间（String）\r\n    if ('string' === typeof expire) {\r\n        return new Date(expire);\r\n    }\r\n    // Number: 传入值——有效时间（秒）\r\n    if ('number' === typeof expire) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (expire * 1000));\r\n        return date;\r\n    }\r\n    // Undefined\r\n    return undefined;\r\n}\r\n\r\n\r\n/**\r\n * 设置Cookie\r\n * @param {String} name\r\n * @param {String|Number|Object} value\r\n * @param {Date|String|Number} [expire]\r\n * @param [path]\r\n */\r\nfunction setCookie(name, value, expire, path) {\r\n    expire = getExpireTime(expire);\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    if (value instanceof Object) {\r\n        buffer.push(encodeURIComponent(JSON.stringify(value)));\r\n    } else {\r\n        buffer.push(encodeURIComponent(value));\r\n    }\r\n    // expire\r\n    if (undefined !== expire) {\r\n        buffer.push(';expires=');\r\n        buffer.push(expire.toUTCString());\r\n    }\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\n/**\r\n * 删除Cookie\r\n * @param name\r\n * @param [path]\r\n */\r\nfunction delCookie(name, path) {\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    // expires\r\n    buffer.push(';expires=');\r\n    buffer.push(new Date().toUTCString());\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\nlet cacheCookies = undefined;\r\n/**\r\n * 加载Cookie\r\n */\r\nfunction loadCookies() {\r\n    cacheCookies = Object();\r\n    let cookies = document.cookie.split(';');\r\n    for (let item of cookies) {\r\n        item = item.trim();\r\n        let p = item.indexOf('=');\r\n        let key = item.substr(0, p).trim();\r\n        let val = item.substr(p + 1).trim();\r\n        cacheCookies[key] = decodeURIComponent(val);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 获得Cookie\r\n * @param name\r\n * @param [parse] JSON解析\r\n * @param [reload] 刷新缓存\r\n */\r\nfunction getCookie(name, parse, reload) {\r\n    if (undefined === cacheCookies || true === reload) loadCookies();\r\n    if (true===parse) {\r\n        return JSON.parse(cacheCookies[name]);\r\n    } else {\r\n        return cacheCookies[name];\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    get: getCookie,\r\n    set: setCookie,\r\n    del: delCookie\r\n};","const hash = require(\"./hash\");\r\n// console.log(0, XMLHttpRequest.UNSENT);\r\n// console.log(1, XMLHttpRequest.OPENED);\r\n// console.log(2, XMLHttpRequest.HEADERS_RECEIVED);\r\n// console.log(3, XMLHttpRequest.LOADING);\r\n// console.log(4, XMLHttpRequest.DONE);\r\n/**\r\n * request\r\n * @param {String} method\r\n * @param {String} url\r\n * @param {BodyInit} body\r\n * @param {function(XMLHttpRequest)} preProcess\r\n * @param {function(XMLHttpRequest, XMLHttpRequest)} callback\r\n * @returns {void}\r\n */\r\nconst requestBase = (method, url, body, preProcess, callback) => {\r\n    const request = window.XMLHttpRequest ? new XMLHttpRequest() : ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    request.onreadystatechange = function () { callback(request, this) };\r\n    request.open(method, url);\r\n    if (undefined!==preProcess) preProcess(request);\r\n    request.send(body);\r\n};\r\n\r\n\r\n/**\r\n * request\r\n * @param {String} method = GET | POST\r\n * @param {String} url\r\n * @param {Object|null} body\r\n * @param {Object|undefined} header\r\n * @returns {Promise}\r\n */\r\nconst requestCommon = (method, url, body, header) => {\r\n    return new Promise(function (resolve, reject) {\r\n        // <Promise>\r\n        requestBase(method, url, body, req => {\r\n            if (undefined===header) return;\r\n            for (let key of Object.keys(header))\r\n                req.setRequestHeader(key, header[key]);\r\n        }, (req, res) => {\r\n            if (XMLHttpRequest.DONE === req.readyState) {\r\n                if (req.status >= 200 && req.status < 300 || 304 === req.status /* ReadCache */ ) {\r\n                    resolve(res.response);\r\n                } else {\r\n                    reject(new Error(res.statusText));\r\n                }\r\n            }\r\n        });\r\n        // </Promise>\r\n    });\r\n};\r\n\r\n\r\n/**\r\n * Get\r\n * @param {String} url\r\n * @param {Object} [data]\r\n * @param {Object} [header]\r\n * @returns {Promise<unknown>}\r\n */\r\nconst requestGet = (url, data, header) => {\r\n    if (undefined!==data && null!==data) {\r\n        url = url + \"?\" + hash.toGetString(data);\r\n    }\r\n    return requestCommon(\"GET\", url, null, header);\r\n};\r\n\r\n\r\n/**\r\n * Post\r\n * @param {String} url\r\n * @param {Object|FormData} [data]\r\n * @param {Object} [header]\r\n * @returns {Promise<unknown>}\r\n */\r\nconst requestPost = (url, data, header) => {\r\n    let form = null;\r\n    if (undefined!==data && null!==data) {\r\n        if (data instanceof FormData) {\r\n            form = data;\r\n        } else {\r\n            form = new FormData();\r\n            for (let key of Object.keys(data)) form.append(key, data[key]);\r\n        }\r\n    }\r\n    return requestCommon(\"POST\", url, form, header);\r\n};\r\n\r\nclass Requester {\r\n    /**\r\n     *\r\n     * @param {String} [prefixUrl]\r\n     * @param {Object} [defaultData]\r\n     * @param {Object} [defaultHeader]\r\n     */\r\n    constructor(prefixUrl, defaultData, defaultHeader) {\r\n        this.prefix = (undefined===prefixUrl || null===prefixUrl) ? \"\" : prefixUrl;\r\n        this.data = (undefined===defaultData || null===defaultData) ? {} : defaultData;\r\n        this.header = (undefined===defaultHeader || null===defaultHeader) ? {} : defaultHeader;\r\n    }\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @param {Object} [data]\r\n     * @param {Object} [header]\r\n     * @returns {Promise<unknown>}\r\n     */\r\n    post(url, data, header) {\r\n        data = data || {};\r\n        header = header || {};\r\n        return requestPost(this.prefix + url, {...this.data, ...data}, {...this.header, ...header});\r\n    }\r\n\r\n    /**\r\n     * @param {String} url\r\n     * @param {Object} [data]\r\n     * @param {Object} [header]\r\n     * @returns {Promise<unknown>}\r\n     */\r\n    get(url, data, header) {\r\n        data = data || {};\r\n        header = header || {};\r\n        return requestGet(this.prefix + url, {...this.data, ...data}, {...this.header, ...header});\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    get: requestGet,\r\n    post: requestPost,\r\n    Requester\r\n};","const URL = window.URL || window.webkitURL;\r\n\r\nconst fileLoader = (() => {\r\n    /** @type {function(FileList)} */\r\n    let callback = null;\r\n    const input = document.createElement('input');\r\n    input.setAttribute('type', 'file');\r\n    input.addEventListener('change', () => {\r\n        if (undefined!==callback) callback(input.files);\r\n    });\r\n    return (cb) => {\r\n        if (undefined!==cb) callback = cb;\r\n        input.value = null; // 解决选择相同文件问题\r\n        input.click();\r\n    }\r\n})();\r\n\r\n\r\n/**\r\n * 生成文件下载\r\n * @param {Blob} blob\r\n * @param {String} [filename]\r\n */\r\nconst fileDownloadBlob = (blob, filename) => {\r\n    filename = filename || \"file@\" + new Date().getTime();\r\n    const element = document.createElement('a');\r\n    element.setAttribute('href', URL.createObjectURL(blob));\r\n    element.setAttribute('download', filename);\r\n    element.click();\r\n    element.remove();\r\n};\r\n\r\n\r\n/**\r\n * 生成文件下载\r\n * @param {String|Object} text\r\n * @param {String} [filename]\r\n */\r\nconst fileDownloadText = (text, filename) => {\r\n    let blob;\r\n    if (text instanceof Object) {\r\n        blob = new Blob([JSON.stringify(text,undefined, '    ')])\r\n    } else {\r\n        blob = new Blob([text])\r\n    }\r\n    fileDownloadBlob(blob, filename);\r\n};\r\n\r\n\r\n/**\r\n * @param {Blob} obj\r\n * @returns {String}\r\n */\r\nconst createBlobURL = (obj) => {\r\n    return URL.createObjectURL(obj)\r\n};\r\n\r\n\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileText = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileBase64 = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(ArrayBuffer)} callback\r\n */\r\nconst readFileBinary = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsBinaryString(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    loader: fileLoader,\r\n    download: fileDownloadBlob,\r\n    downloadText: fileDownloadText,\r\n    createBlobURL,\r\n    readFileText,\r\n    readFileBase64,\r\n    readFileBinary\r\n};","/**\r\n *\r\n * @param objForm\r\n * @returns {{}|null}\r\n */\r\nconst formSeries = (objForm) => {\r\n    if ('FORM' !== objForm.tagName.toUpperCase()) return null;\r\n    const elements = objForm.elements;\r\n    let buff = {};\r\n    for (let i = 0; i < elements.length; i++) {\r\n        const field = elements[i];\r\n        switch (field.type) {\r\n            case 'radio':\r\n                if (!field.checked) break;\r\n                buff[field.name] = field.value;\r\n                break;\r\n            case 'checkbox':\r\n                if (undefined===buff[field.name]) buff[field.name]=[];\r\n                if (field.checked) buff[field.name].push(field.value);\r\n                break;\r\n            case 'select-one':\r\n            case 'text':\r\n            case 'textarea':\r\n            case 'number':\r\n            case 'email':\r\n            case 'date':\r\n                buff[field.name] = field.value;\r\n                break;\r\n        }\r\n    }\r\n    return buff;\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param objForm\r\n * @param {Object} data\r\n */\r\nconst formSetValues = (objForm, data) => {\r\n    // const assemblies = objForm.querySelectorAll(`input,select,textarea`);\r\n    for (let name of Object.keys(data)) {\r\n        const value = data[name];\r\n        const elements = objForm.querySelectorAll(`input[name='${name}'],select[name='${name}'],textarea[name='${name}']`);\r\n        if (0===elements.length) continue;\r\n        // console.log(\"elements\", name, elements[0].type, elements);\r\n        switch (elements[0].type) {\r\n            case 'radio':\r\n                for (let item of elements) {\r\n                    item.checked = (value == item.value);\r\n                } break;\r\n            case 'checkbox':\r\n                for (let item of elements) {\r\n                    item.checked = value.some(x => x==item.value);\r\n                } break;\r\n            default:\r\n                elements[0].value = value;\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    series: formSeries,\r\n    values: formSetValues\r\n};","/**\r\n * 日期格式化\r\n * @param {Date|string} [toFormat]\r\n * @param {string} [formatType]\r\n * @returns {string}\r\n */\r\nconst formatDate = (toFormat, formatType) => {\r\n    if (undefined===toFormat)\r\n        toFormat = new Date();\r\n    else\r\n        toFormat = (toFormat instanceof Date) ? toFormat : new Date(toFormat);\r\n    formatType = formatType || 'y-M-d h:m:s';\r\n    const buf = [];\r\n    for(let i=0; i<formatType.length; i++) {\r\n        let ch = formatType.substr(i, 1);\r\n        switch(ch) {\r\n            case 'y': buf.push(toFormat.getFullYear()); break;\r\n            case 'M': buf.push(toFormat.getMonth()+1); break;\r\n            case 'd': buf.push(toFormat.getDate()); break;\r\n            case 'h': buf.push(toFormat.getHours()); break;\r\n            case 'm': buf.push(toFormat.getMinutes()); break;\r\n            case 's': buf.push(toFormat.getSeconds()); break;\r\n            case 'S': buf.push(toFormat.getMilliseconds()); break;\r\n            default: buf.push(ch); break;\r\n        }\r\n    }\r\n    return buf.join('');\r\n};\r\n\r\n\r\n/**\r\n * 时间戳\r\n * @param {Date|string} d\r\n * @returns {Number}\r\n */\r\nconst timestamp = (d) => {\r\n    return new Date(d).getTime();\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    format: formatDate,\r\n    timestamp\r\n};"],"sourceRoot":""}